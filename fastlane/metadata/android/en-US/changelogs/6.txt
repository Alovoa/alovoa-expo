Users can now register with email address
Several bug fixes